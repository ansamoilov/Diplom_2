# Diplom_2

## Описание проекта

Этот проект предназначен для тестирования API платформы 'Stellar Burgers'
https://stellarburgers.nomoreparties.site/api/
В нем реализованы тесты для работы с пользователями и заказами через API. 
Проект использует библиотеку `requests` для взаимодействия с API,
а также фреймворк `pytest` для организации тестов.

## Структура проекта

### 1. **Папка `methods`**

Содержит файлы, определяющие методы для работы с API.

#### `order_methods.py`
Этот файл содержит методы для работы с заказами:
- `get_ingredients()`: Получает список всех доступных ингредиентов.
- `create_order(url, ingredients, token=None)`: Создает новый заказ с указанными ингредиентами. При наличии токена передает его в запрос для авторизации.
- `get_user_orders(url, token)`: Получает список заказов пользователя по токену.

#### `user_methods.py`
Этот файл содержит методы для работы с пользователями:
- `create_user_credentials()`: Генерирует уникальные данные пользователя для регистрации.
- `register_user(user_data)`: Регистрирует нового пользователя, отправляя данные на сервер.
- `delete_user(token)`: Удаляет пользователя по авторизационному токену.
- `login_user(login_data)`: Логинит пользователя по его данным.
- `get_user_data(token)`: Получает данные пользователя по токену.
- `update_user_data(token, update_data)`: Обновляет данные пользователя по токену.

### 2. **Папка `tests`**

Содержит тесты для проверки функционала API.

#### `tests_create_order.py`
Тесты на создание заказов:
- Проверяет создание заказа с авторизацией и без.
- Проверяет создание заказа без ингредиентов.
- Проверяет создание заказа с неверными хешами ингредиентов.

#### `tests_get_orders.py`
Тесты на получение заказов:
- Проверяет возможность получения заказов авторизованным пользователем.
- Проверяет невозможность получения заказов неавторизованным пользователем.

#### `test_login_user.py`
Тесты на логин пользователя:
- Проверяет успешный логин с правильными данными.
- Проверяет неуспешный логин с неверными данными (неправильный email или пароль).

#### `test_register_user.py`
Тесты на регистрацию пользователя:
- Проверяет успешную регистрацию нового пользователя.
- Проверяет регистрацию существующего пользователя.
- Проверяет регистрацию с отсутствующими обязательными полями.

### 3. **Файл `data.py`**

Содержит URL для взаимодействия с API и сообщения об ошибках:
- **URLs**: различные URL для работы с API, включая регистрацию, удаление, авторизацию и создание заказов.
- **MESSAGES**: стандартные сообщения об ошибках, такие как "Пользователь уже существует", "Отсутствуют необходимые поля", "Неверные учетные данные" и другие.

### 4. **Файл `conftest.py`**

Содержит фикстуры для тестов:
- `user_data()`: Фикстура для создания пользователя и удаления его после теста.
- `base_ingredients()`: Фикстура для получения списка ингредиентов, которая выполняется один раз за сессию.

### Как запустить тесты

Для того чтобы запустить тесты, используйте команду:
```bash
pytest

